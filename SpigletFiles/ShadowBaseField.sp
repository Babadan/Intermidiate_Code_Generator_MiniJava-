MAIN
	MOVE TEMP 2 ShadowBaseField_Vtable
	MOVE TEMP 3 HALLOCATE 4
	HSTORE TEMP 2 0 TEMP 3
	MOVE TEMP 4 ShadowBaseField_Main
	HSTORE TEMP 3 0 TEMP 4
 
	MOVE TEMP 5 A_Vtable
	MOVE TEMP 6 HALLOCATE 4
	HSTORE TEMP 5 0 TEMP 6
	MOVE TEMP 7 A_getX
	HSTORE TEMP 6 0 TEMP 7
 
	MOVE TEMP 8 B_Vtable
	MOVE TEMP 9 HALLOCATE 4
	HSTORE TEMP 8 0 TEMP 9
	MOVE TEMP 10 B_getX
	HSTORE TEMP 9 0 TEMP 10
 
	MOVE TEMP 12 A_Vtable
	MOVE TEMP 13 HALLOCATE 8
	HLOAD TEMP 14 TEMP 12 0
	HSTORE TEMP 13 0 TEMP 14
	MOVE TEMP 15 0
	HSTORE TEMP 13 4TEMP 15
	MOVE TEMP 11 TEMP 13
	HLOAD TEMP 17 TEMP 11 0
	HLOAD TEMP 18 TEMP 17 0
	MOVE TEMP 19 CALL TEMP 18 (TEMP 11 )
	PRINT TEMP 19
	MOVE TEMP 20 B_Vtable
	MOVE TEMP 21 HALLOCATE 12
	HLOAD TEMP 22 TEMP 20 0
	HSTORE TEMP 21 0 TEMP 22
	MOVE TEMP 23 0
	HSTORE TEMP 21 4TEMP 23
	HSTORE TEMP 21 8TEMP 23
	MOVE TEMP 11 TEMP 21
	HLOAD TEMP 25 TEMP 11 0
	HLOAD TEMP 26 TEMP 25 0
	MOVE TEMP 27 CALL TEMP 26 (TEMP 11 )
	PRINT TEMP 27
END

A_getX [1]
BEGIN
	HLOAD TEMP 28 TEMP 0 4
RETURN
	TEMP 28
END
B_getX [1]
BEGIN
	MOVE TEMP 29 PLUS TEMP 0 8
	MOVE TEMP 30 1
	HSTORE TEMP 29 0 TEMP 30
	HLOAD TEMP 32 TEMP 0 8
RETURN
	TEMP 32
END
